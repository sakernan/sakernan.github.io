(function(e){function t(t){for(var n,o,r=t[0],c=t[1],d=t[2],f=0,u=[];f<r.length;f++)o=r[f],a[o]&&u.push(a[o][0]),a[o]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);l&&l(t);while(u.length)u.shift()();return s.push.apply(s,d||[]),i()}function i(){for(var e,t=0;t<s.length;t++){for(var i=s[t],n=!0,r=1;r<i.length;r++){var c=i[r];0!==a[c]&&(n=!1)}n&&(s.splice(t--,1),e=o(o.s=i[0]))}return e}var n={},a={app:0},s=[];function o(t){if(n[t])return n[t].exports;var i=n[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,o),i.l=!0,i.exports}o.m=e,o.c=n,o.d=function(e,t,i){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(o.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(i,n,function(t){return e[t]}.bind(null,n));return i},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=t,r=r.slice();for(var d=0;d<r.length;d++)t(r[d]);var l=c;s.push([0,"chunk-vendors"]),i()})({0:function(e,t,i){e.exports=i("56d7")},"034f":function(e,t,i){"use strict";var n=i("64a9"),a=i.n(n);a.a},"0dae":function(e,t,i){},"12e3":function(e,t,i){"use strict";var n=i("0dae"),a=i.n(n);a.a},"1bda":function(e,t,i){"use strict";var n=i("20c2"),a=i.n(n);a.a},"20c2":function(e,t,i){},2177:function(e,t,i){},"24e4":function(e,t,i){},"2c4b":function(e,t,i){"use strict";var n=i("bc79"),a=i.n(n);a.a},"300e":function(e,t,i){"use strict";var n=i("fef0"),a=i.n(n);a.a},"3dcb":function(e,t,i){},"44bc":function(e,t,i){},"56d7":function(e,t,i){"use strict";i.r(t);i("cadf"),i("551c"),i("097d");var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"app"}},[i("tools"),i("preference"),i("desktop"),i("dock",{ref:"dock_model"}),i("notice-tip",{ref:"notice_tip_model"}),i("notification-center")],1)},a=[],s=(i("ac6a"),function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"desktop"},[e._l(this.$store.state.desktop.frames,function(e){return i("d-frame",{key:e.id,attrs:{data:e}})}),e.$store.state.desktop.safari.active?i("safari",{attrs:{data:e.$store.state.desktop.safari}}):e._e()],2)}),o=[],r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"show",rawName:"v-show",value:e.data.isShow,expression:"data.isShow"}],class:["d-frame",{"d-frame-full":e.fullScreen}],style:{left:e.data.leftOffset+"%",top:e.data.topOffset+"%","z-index":125+e.data.order,width:e.width+"px",height:e.height+"px"},attrs:{"data-id":e.data.id}},[i("div",{directives:[{name:"drag",rawName:"v-drag"}],staticClass:"d-frame-title",on:{click:function(t){e.frameClick()}}},[i("div",{staticClass:"d-frame-title-operation"},[i("i",{staticClass:"fa fa-circle d-frame-operation-close",on:{click:function(t){e.closeFrame()}}}),i("i",{staticClass:"fa fa-circle d-frame-operation-minus",on:{click:function(t){e.minFrame()}}}),i("i",{staticClass:"fa fa-circle d-frame-operation-full",on:{click:function(t){e.changeFullScreen()}}})]),e._t("d-frame-title-content",[i("div",{staticClass:"d-frame-title-content"},[i("img",{attrs:{src:e.data.icon}}),i("span",[e._v(e._s(e.data.title))])])])],2),i("div",{staticClass:"d-frame-content"},[e.data.url?i("iframe",{attrs:{src:e.data.url}}):e._e(),e.data.html?i("div",{domProps:{innerHTML:e._s(e.data.html)}}):e._e(),i("span",{directives:[{name:"resize",rawName:"v-resize"}],staticClass:"d-frame-operation-resize"})])])},c=[],d={name:"DFrame",props:{data:Object},data:function(){return{fullScreen:!1,width:this.data.width||1024,height:this.data.height||512}},methods:{closeFrame:function(){this.$store.dispatch("desktop/closeFrame",this.data),this.refreshDock()},changeFullScreen:function(){this.fullScreen=!this.fullScreen},frameClick:function(){this.$store.commit("desktop/refreshFrame",this.data)},minFrame:function(){this.$store.commit("desktop/addMinDock",{id:this.data.id,src:this.data.icon,alt:this.data.title,type:"3"}),this.refreshDock()},refreshDock:function(){setTimeout(function(){for(var e=document.getElementsByClassName("dock-item"),t=document.getElementsByClassName("dock-mask")[0],i=0;i<e.length;i++)e[i].width=60;t.style.width=60*e.length+40+"px"},10)}},directives:{drag:function(e){e.onmousedown=function(t){var i=t.clientX-e.parentElement.offsetLeft,n=t.clientY-e.parentElement.offsetTop;e.style.cursor="move",document.onmousemove=function(t){e.parentElement.style.left=t.clientX-i+"px",e.parentElement.style.top=t.clientY-n+"px"},document.onmouseup=function(){document.onmousemove=document.onmouseup=void 0,e.style.cursor="unset"}}},resize:function(e,t,i){e.onmousedown=function(t){var n=t.clientX,a=t.clientY,s=i.context.width,o=i.context.height;e.style.cursor="nw-resize",document.onmousemove=function(e){window.getSelection().removeAllRanges(),i.context.width=s+e.clientX-n,i.context.height=o+e.clientY-a},document.onmouseup=function(){document.onmousemove=document.onmouseup=void 0,e.style.cursor="unset"}}}}},l=d,f=(i("e56e"),i("2877")),u=Object(f["a"])(l,r,c,!1,null,"78721c86",null);u.options.__file="DFrame.vue";var m=u.exports,p=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("d-frame",{staticClass:"safari",attrs:{data:e.data}},[i("template",{slot:"d-frame-title-content"},[i("div",{staticClass:"safari-href"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.href,expression:"href"}],attrs:{type:"text"},domProps:{value:e.href},on:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.searchSafari()},input:function(t){t.target.composing||(e.href=t.target.value)}}})])])],2)},h=[],v={name:"Safari",components:{DFrame:m},props:{data:Object},data:function(){return{href:""}},methods:{searchSafari:function(){this.href.indexOf("http")<=-1&&(this.href="http://"+this.href),this.data.url=this.href}}},g=v,k=(i("76e0"),Object(f["a"])(g,p,h,!1,null,"1283acd6",null));k.options.__file="Safari.vue";var C=k.exports,w={name:"Desktop",components:{DFrame:m,Safari:C}},_=w,y=(i("ca76"),Object(f["a"])(_,s,o,!1,null,"9c851484",null));y.options.__file="Desktop.vue";var b=y.exports,D=function(){var e=this,t=e.$createElement,i=e._self._c||t;return this.$store.state.desktop.docks&&this.$store.state.desktop.docks.length>0?i("div",{staticClass:"dock"},[i("div",{staticClass:"dock-mask"}),i("div",{staticClass:"dock-container"},[e._l(this.$store.state.desktop.docks,function(t){return i("div",{key:t.id,staticClass:"dock-item-wrap"},[i("a",{on:{click:function(i){e.dockClick(t)}}},[i("span",[e._v(e._s(t.alt))]),i("img",{staticClass:"dock-item",attrs:{src:t.src,alt:t.alt}})]),i("img",{directives:[{name:"show",rawName:"v-show",value:t.isOpen,expression:"dock.isOpen"}],staticClass:"dock-item-dot",attrs:{src:"images/circle.png"}})])}),e._m(0),e._l(this.$store.state.desktop.minDocks,function(t){return i("div",{key:t.id,staticClass:"dock-item-wrap"},[i("a",{on:{click:function(i){e.dockClick(t)}}},[i("span",[e._v(e._s(t.alt))]),i("img",{staticClass:"dock-item",attrs:{src:t.src,alt:t.alt}})])])}),e._m(1)],2)]):e._e()},O=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("a",{staticClass:"dock-item-split"},[i("img",{attrs:{src:"images/split.jpg",alt:"split"}})])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"dock-item-wrap"},[i("a",[i("span",[e._v("trash")]),i("img",{staticClass:"dock-item",attrs:{src:"images/trash.png",alt:"trash"}})])])}],x={name:"Dock",methods:{getOffsetTop:function(e){return null==e.offsetParent?e.offsetTop:e.offsetTop+this.getOffsetTop(e.offsetParent)},initDockItem:function(){var e=this,t=document.getElementsByClassName("dock-container")[0];this.resetDockItem(),t.addEventListener("mousemove",function(i){return e.mouseOnDockItem(i,t)}),t.addEventListener("mouseleave",function(){return e.resetDockItem()})},resetDockItem:function(){for(var e=document.getElementsByClassName("dock-item"),t=document.getElementsByClassName("dock-mask")[0],i=0;i<e.length;i++)e[i].width=60,e[i].parentNode.nextElementSibling&&(e[i].parentNode.nextElementSibling.style.marginLeft="-35px");t.style.width=60*e.length+40+"px"},mouseOnDockItem:function(e,t){var i=document.getElementsByClassName("dock-item"),n=document.getElementsByClassName("dock-mask")[0];e=e||window.event;for(var a=0,s=0;s<i.length;s++){var o=e.clientX-(i[s].offsetLeft+i[s].offsetWidth/2),r=i[s].offsetTop+this.getOffsetTop(t)+i[s].offsetHeight/2-e.clientY,c=1-Math.sqrt(o*o+r*r)/300;c<.5&&(c=.5),i[s].width=120*c,i[s].parentNode.nextElementSibling&&(i[s].parentNode.nextElementSibling.style.marginLeft=-5-i[s].width/2+"px"),a+=i[s].width}n.style.width=a+40+"px"},dockClick:function(e){"1"===e.type?window.open(e.url):"2"===e.type?this.$store.dispatch("desktop/addFrame",{id:e.id,icon:e.src,title:e.alt,url:e.url}):"3"===e.type&&(this.$store.commit("desktop/resetMinFrame",e.id),this.resetDockItem())}}},N=x,$=(i("8ca7"),Object(f["a"])(N,D,O,!1,null,"17a08a12",null));$.options.__file="Dock.vue";var M=$.exports,T=function(){var e=this,t=e.$createElement,i=e._self._c||t;return this.$store.state.desktop.preferenceVisiable?i("div",{staticClass:"preference"},[i("div",{staticClass:"preference-item",on:{click:function(t){e.aboutUs()}}},[e._v("关于我们")]),i("div",{staticClass:"preference-split"}),i("div",{staticClass:"preference-item",on:{click:function(t){e.exitWindow()}}},[e._v("退出")])]):e._e()},E=[],S={name:"Preference",methods:{aboutUs:function(){this.$store.dispatch("desktop/addFrame",{id:"SP0",icon:"images/apple.png",title:"关于我们",html:'<div style="position:absolute;top: 80px;left: 20px;">\n                <div>作者邮箱: qq11419041@163.com</div>\n                <div>使用组件：vue、vuex、font-awesome</div>\n              </div>\n              <a href="https://gitee.com/justlive1/nitrogen" target="_blank" style="position:absolute;top: 30px;right:0;">\n                <img height="140" src="https://gitee.com/justlive1/nitrogen/widgets/widget_1.svg" alt="Fork me on Gitee" />\n              </a>',width:360,height:170})},exitWindow:function(){window.close()}}},F=S,I=(i("2c4b"),Object(f["a"])(F,T,E,!1,null,"60218dd1",null));I.options.__file="Preference.vue";var j=I.exports,P=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("transition",{attrs:{name:"slide"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:this.$store.state.desktop.notificationCenterVisible,expression:"this.$store.state.desktop.notificationCenterVisible"}],staticClass:"notification-center"},[i("div",{staticClass:"notification-center-header"},[i("div",{class:{active:0===e.notificationCenterType},on:{click:function(t){e.notificationCenterTypeChange(0)}}},[e._v("今天\n      ")]),i("div",{class:{active:1===e.notificationCenterType},on:{click:function(t){e.notificationCenterTypeChange(1)}}},[e._v("通知\n      ")])]),0===e.notificationCenterType?i("div",{staticClass:"notification-center-body"},[i("div",{staticClass:"notification-center-body-calendar"},[i("div",{staticClass:"notification-center-body-calendar-date normal-date"},[e._v(e._s(e.normalDate))]),i("div",{staticClass:"notification-center-body-calendar-date lunar-date"},[e._v(e._s(e.lunarDate))])]),i("weather-notice"),i("copyright")],1):e._e(),1===e.notificationCenterType?i("div",{staticClass:"notification-center-body"},e._l(this.$store.state.desktop.messageNotices,function(e){return i("message-notice",{key:e.id,attrs:{icon:e.icon,tip:e.tip,title:e.title,body:e.body,time:e.time,showHeader:e.showHeader,id:e.id}})})):e._e()])])},A=[],Y=["周日","周一","周二","周三","周四","周五","周六"],B=["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],H=["庚","辛","壬","癸","甲","乙","丙","丁","戊","己"],V=["申","酉","戌","亥","子","丑","寅","卯","辰","巳","午","未"],W=["初","一","二","三","四","五","六","七","八","九","十","十一","十二","廿","卅"],L=[[216,[[101,1115],[117,1201]],[[201,1216],[216,101]],[[301,114],[317,201]],[[401,216],[416,301]],[[501,316],[515,401]],[[601,418],[614,501]],[[701,518],[713,601]],[[801,620],[811,701]],[[901,722],[910,801]],[[1001,822],[1009,901]],[[1101,924],[1108,1001]],[[1201,1024],[1207,1101]]],[205,[[101,1126],[106,1201]],[[201,1227],[205,101]],[[301,125],[307,201]],[[401,226],[405,301]],[[501,327],[505,401]],[[601,428],[603,501]],[[701,529],[703,601]],[[801,701],[830,801]],[[901,803],[929,901]],[[1001,903],[1028,1001]],[[1101,1005],[1126,1101]],[[1201,1106],[1226,1201]]]],z={name:"Calendar",functional:!0,props:["date"],dateOfYear:function(e){return e||(e=new Date),e.getMonth()+1+"月"+e.getDate()+"日"},weekOfDate:function(e,t){return e||(e=new Date),t?B[e.getDay()]:Y[e.getDay()]},timeWithoutSecond:function(e){e||(e=new Date);var t=e.getHours()+":",i=e.getMinutes();return i<10&&(t+=0),t+=i,t},dateFormatMacOs:function(e){return e||(e=new Date),[this.dateOfYear(e),this.weekOfDate(e),this.timeWithoutSecond(e)].join(" ")},lunarYear:function(e){e||(e=new Date);var t=e.getFullYear(),i=100*(e.getMonth()+1)+e.getDate();return i<L[t-2018][0]&&t--,H[t%H.length]+V[t%V.length]+"年"},lunarDateI18n:function(e){var t=~~(e/100),i=W[t]+"月";1===t&&(i="正月");var n=e%100,a="";return a=20===n?"二十":30===n?"三十":n<11?W[0]+W[n]:n<20?W[10]+W[n-10]:n<30?W[13]+W[n-20]:W[14]+W[n-30],i+a},lunarDate:function(e){e||(e=new Date);var t=e.getFullYear(),i=e.getMonth()+1,n=e.getDate(),a=L[t-2018][i],s=100*i+n;return s<a[1][0]?this.lunarYear(e)+this.lunarDateI18n(a[0][1]+n-1):this.lunarYear(e)+this.lunarDateI18n(a[1][1]+n-a[1][0]%100)},dayAgo:function(e){var t=new Date(e),i=new Date,n=~~((i.getTime()-t.getTime())/1e3/60/60/24);if(n>3){var a="";return i.getFullYear()>t.getFullYear()&&(a+=t.getFullYear()+"年"),a+=t.getMonth()+1+"月"+t.getDate()+"日",a}return n>0?n+"天前":"今天"},timeAgo:function(e){var t=new Date(e),i=new Date,n="";i.getDate()-t.getDate()===1&&(n+="昨天 ");var a=i.getTime()-t.getTime();if(a<6e4)return"刚刚";if(a<36e5)return(a/1e3/60|0)+"分钟前";if(a<72e5)return(a/1e3/60/60|0)+"小时前";var s=t.getHours(),o=t.getMinutes();return n+=s<13?"上午"+s+":"+o:"下午"+(s-12)+":"+o,n}},X=function(){var e=this,t=e.$createElement,i=e._self._c||t;return this.$store.state.desktop.weather?i("notice",[i("template",{slot:"notice-header-icon"},[i("img",{staticClass:"notice-header-icon-img",attrs:{src:"images/weather.png"}})]),i("template",{slot:"notice-header-title"},[e._v("\n    天气\n  ")]),i("template",{slot:"notice-body"},[i("div",{staticClass:"weather-item"},[i("div",{staticClass:"weather-city"},[i("span",{staticClass:"weather-city-time"},[e._v(e._s(e.currentTime()))]),i("span",{staticClass:"weather-city-text"},[e._v(e._s(this.$store.state.desktop.weather.city))])]),i("div",{staticClass:"weather-type"},[i("img",{attrs:{src:this.$store.state.desktop.weather.icon,alt:this.$store.state.desktop.weather.type}})]),i("div",{staticClass:"weather-temperature"},[e._v(e._s(this.$store.state.desktop.weather.temperature))])])])],2):e._e()},q=[],J=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"notice"},[i("div",{staticClass:"notice-header"},[i("span",{staticClass:"notice-header-icon"},[e._t("notice-header-icon")],2),i("span",{staticClass:"notice-header-title"},[e._t("notice-header-title")],2)]),i("div",{staticClass:"notice-body"},[e._t("notice-body")],2)])},Q=[],U={name:"Notice"},G=U,R=(i("f777"),Object(f["a"])(G,J,Q,!1,null,"0900d232",null));R.options.__file="Notice.vue";var K=R.exports,Z={name:"WeatherNotice",components:{Notice:K},methods:{currentTime:function(){var e=this.$store.state.desktop.currentDate.getHours(),t=this.$store.state.desktop.currentDate.getMinutes(),i="上午";return e>12&&(i="下午",e-=12),i+=e+":",t<10&&(i+="0"),i+=t,i}}},ee=Z,te=(i("1bda"),Object(f["a"])(ee,X,q,!1,null,"b85eb6a6",null));te.options.__file="WeatherNotice.vue";var ie=te.exports,ne=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.showHeader?i("div",{staticClass:"message-header"},[i("div",{staticClass:"message-header-time"},[e._v(e._s(e.dayAgo))]),i("div",{staticClass:"message-header-close"},[i("i",{staticClass:"fa fa-times-circle",attrs:{"aria-hidden":"true"},on:{click:function(t){e.messageHeaderCloseClick(e.dateStr)}}})])]):e._e(),i("notice",{staticClass:"message-notice"},[i("template",{slot:"notice-header-icon"},[i("img",{staticClass:"notice-header-icon-img",attrs:{src:e.icon}})]),i("template",{slot:"notice-header-title"},[i("span",{staticClass:"message-tip"},[e._v(e._s(e.tip))]),i("span",{staticClass:"message-time"},[i("span",{staticClass:"message-time-text"},[e._v(e._s(e.timeAgo))]),i("i",{staticClass:"fa fa-times-circle message-time-close",attrs:{"aria-hidden":"true"},on:{click:function(t){e.messageTimeCloseClick(e.id)}}})])]),i("template",{slot:"notice-body"},[i("div",{staticClass:"message-item"},[i("div",{staticClass:"message-title",domProps:{innerHTML:e._s(e.title)}}),i("div",{staticClass:"message-body",domProps:{innerHTML:e._s(e.body)}})])])],2)],1)},ae=[],se={name:"MessageNotice",components:{Notice:K},props:{id:String,showHeader:Boolean,icon:String,tip:String,title:String,body:String,time:Date},computed:{timeAgo:function(){return z.timeAgo(this.time)},dayAgo:function(){return z.dayAgo(this.time)},dateStr:function(){return z.dateOfYear(new Date(this.time))}},methods:{messageHeaderCloseClick:function(e){this.$store.dispatch("desktop/removeMessageByDate",e)},messageTimeCloseClick:function(e){this.$store.dispatch("desktop/removeMessageById",e)}}},oe=se,re=(i("12e3"),Object(f["a"])(oe,ne,ae,!1,null,"72f06950",null));re.options.__file="MessageNotice.vue";var ce=re.exports,de=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},le=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"copyright"},[i("a",{attrs:{target:"_blank",href:"http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=44010302000485"}},[i("img",{attrs:{src:"images/beian.png"}}),i("span",[e._v("粤公网安备 44010302000485号")])]),i("br"),i("a",{attrs:{href:"http://www.miitbeian.gov.cn",target:"blank"}},[e._v("粤ICP备18059277号-1")])])}],fe={name:"Copyright"},ue=fe,me=(i("58dd"),Object(f["a"])(ue,de,le,!1,null,"369dbeb4",null));me.options.__file="Copyright.vue";var pe=me.exports,he={name:"NotificationCenter",components:{WeatherNotice:ie,MessageNotice:ce,Copyright:pe},data:function(){return{notificationCenterType:0,date:new Date,normalDate:z.dateOfYear(this.date)+" "+z.weekOfDate(this.date,!0),lunarDate:z.lunarDate(this.date)}},methods:{notificationCenterTypeChange:function(e){this.notificationCenterType!==e&&(this.notificationCenterType=e)}}},ve=he,ge=(i("58d1"),Object(f["a"])(ve,P,A,!1,null,"56576bfc",null));ge.options.__file="NotificationCenter.vue";var ke=ge.exports,Ce=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("transition",{attrs:{name:"tip-slide"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.count>0,expression:"count > 0"}],staticClass:"notice-tip"},[i("div",{staticClass:"notice-tip-icon"},[i("img",{attrs:{src:e.icon}})]),i("div",{staticClass:"notice-tip-content"},[i("div",{staticClass:"notice-tip-content-title"},[e._v(e._s(e.title))]),i("div",{staticClass:"notice-tip-content-body",domProps:{innerHTML:e._s(e.body)}})])])])},we=[],_e={name:"NoticeTip",data:function(){return{icon:"",title:"",body:"",count:0}},created:function(){var e=this;window.noticeTipIntervalArr&&window.noticeTipIntervalArr.forEach(function(e){return clearInterval(e)}),window.noticeTipIntervalArr=[setInterval(function(){e.count-=1},1e3)]},methods:{showTip:function(e){this.icon=e.icon,this.title=e.title,this.body=e.body,this.count=3}}},ye=_e,be=(i("ec0d"),Object(f["a"])(ye,Ce,we,!1,null,"5224817c",null));be.options.__file="NoticeTip.vue";var De=be.exports,Oe=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"tools"},[i("div",{staticClass:"tools-left"},[i("div",{class:["tools-icon",{clicked:this.$store.state.desktop.preferenceVisiable}],on:{click:function(t){e.togglePreference()}}},[i("span",{staticClass:"fa fa-apple"})]),i("div",{staticClass:"tools-icon",on:{click:function(t){e.openSafari()}}},[i("span",{staticClass:"fa fa-safari"})])]),i("div",{staticClass:"tools-middle"}),i("div",{staticClass:"tools-right"},[e._m(0),i("timer"),i("div",{staticClass:"tools-icon tools-notification-center",on:{click:function(t){e.notificationCenterClick()}}},[i("span",{class:["fa",{"fa-list-ul":e.notificationCenterNoMessage()},{"fa-comment-o on-new-msg":!e.notificationCenterNoMessage()},{"fa-commenting-o":e.notificationCenterMessageFlicker()}]})]),e._m(1)],1)])},xe=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"tools-icon"},[i("span",{staticClass:"fa fa-battery-full"})])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"tools-icon tools-show-desktop"},[i("span",[e._v(" ")])])}],Ne=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"tools-icon tools-time"},[i("span",{domProps:{innerHTML:e._s(e.timer)}})])},$e=[],Me={name:"Timer",data:function(){return{timer:z.dateFormatMacOs(this.$store.state.desktop.currentTime)}},created:function(){var e=this;window.timerIntervalArr&&window.timerIntervalArr.forEach(function(e){return clearInterval(e)}),window.timerIntervalArr=[setInterval(function(){e.$store.commit("desktop/refreshTime"),e.timer=z.dateFormatMacOs(e.$store.state.desktop.currentTime)},1e3)]}},Te=Me,Ee=(i("6a6f"),Object(f["a"])(Te,Ne,$e,!1,null,"6c78a1aa",null));Ee.options.__file="Timer.vue";var Se=Ee.exports,Fe={name:"Tools",components:{Timer:Se},data:function(){return{notificationCenterVisible:!1,notificationCenterMessageCount:0}},created:function(){var e=this;window.toolIntervalArr&&window.toolIntervalArr.forEach(function(e){return clearInterval(e)}),window.toolIntervalArr=[setInterval(function(){e.notificationCenterMessageCount+=1},600)]},methods:{notificationCenterClick:function(){this.notificationCenterVisible=!this.notificationCenterVisible,this.$store.commit("desktop/changeNotificationCenterVisible",this.notificationCenterVisible)},notificationCenterNoMessage:function(){return 0===this.$store.state.desktop.messageNotices.length},notificationCenterMessageFlicker:function(){return this.notificationCenterMessageCount%2===0&&!this.notificationCenterNoMessage()},openSafari:function(){this.$store.commit("desktop/openSafari")},togglePreference:function(){this.$store.commit("desktop/togglePreference")}}},Ie=Fe,je=(i("300e"),Object(f["a"])(Ie,Oe,xe,!1,null,"0c4d53f8",null));je.options.__file="Tools.vue";var Pe=je.exports,Ae={name:"app",components:{Desktop:b,Dock:M,Preference:j,NotificationCenter:ke,NoticeTip:De,Tools:Pe},mounted:function(){document.getElementById("app").style.backgroundImage="url(https://csdn-1251572863.cos.ap-shanghai.myqcloud.com/image/main.jpg)";var e=this;axios.get("userData.json").then(function(t){t.data.success&&t.data.data.docks.forEach(function(t){e.$store.commit("desktop/addDock",t)}),setTimeout(function(){e.$refs.dock_model.initDockItem()},100)}),axios.get("messages.json").then(function(t){t.data.success&&t.data.data.forEach(function(t){e.addMessage(t)})}),axios.get("/weather/current").then(function(t){t.data.success&&e.addWeather(t.data.data)}),setTimeout(function(){e.addMessage({id:"N1",icon:"images/frost.png",tip:"分布式任务调度",title:"默认账号",body:"账号：frost 密码：frost",time:new Date},!0)},3e3),setTimeout(function(){e.addMessage({id:"N2",icon:"images/message.png",tip:"消息",title:"官方QQ",body:"1106088328",time:new Date},!0)},6e3)},methods:{addMessage:function(e,t){this.$store.dispatch("desktop/addMessage",e),t&&new Audio("sounds/ping.mp3").play(),this.$refs.notice_tip_model.showTip(e)},addWeather:function(e){this.$store.commit("desktop/addWeather",e)}}},Ye=Ae,Be=(i("034f"),Object(f["a"])(Ye,n,a,!1,null,null,null));Be.options.__file="App.vue";var He=Be.exports,Ve=(i("55dd"),i("7514"),{docks:[],frames:[],minDocks:[],messageNotices:[],notificationCenterVisible:!1,framesOrder:0,framesOffset:5,preferenceVisiable:!1,safari:{id:"safari",active:!1,isShow:!0,url:"",title:"safari",icon:"images/safari.png",order:0,leftOffset:8,topOffset:8},weather:void 0,currentDate:new Date}),We={},Le={addFrame:function(e,t){var i=e.commit;i("addFrame",t),i("refreshFrame",t),i("addDockDot",t.id)},addMessage:function(e,t){var i=e.commit;i("addMessageNotice",t),i("sortMessageNotice")},closeFrame:function(e,t){var i=e.commit;i("closeFrame",t)},removeMessageById:function(e,t){var i=e.commit;i("removeMessageById",t),i("sortMessageNotice")},removeMessageByDate:function(e,t){var i=e.commit;i("removeMessageByDate",t),i("sortMessageNotice")}},ze={addDock:function(e,t){var i=e.docks.map(function(e){return e.id});i.indexOf(t.id)>-1||(t.isOpen=!1,e.docks.push(t))},addDockDot:function(e,t){e.docks.find(function(e){return e.id===t&&(e.isOpen=!0,!0)})},addFrame:function(e,t){var i=e.frames.map(function(e){return e.id});if(!(i.indexOf(t.id)>-1)){var n=e.framesOrder+1,a=e.framesOffset;n>=10&&(n=0,a-=1,a<0&&(a=5)),t.leftOffset=e.framesOffset+n,t.topOffset=e.framesOffset+n,t.order=0,t.isShow=!0,e.framesOrder=n,e.framesOffset=a,e.frames.push(t)}},addMinDock:function(e,t){var i=e.minDocks.map(function(e){return e.id});i.indexOf(t.id)>-1||(e.frames.find(function(e){return e.id===t.id&&(e.isShow=!1,!0)}),e.minDocks.push(t),"safari"===t.id&&(e.safari.isShow=!1))},addMessageNotice:function(e,t){var i=e.messageNotices.map(function(e){return e.id});i.indexOf(t.id)>-1||e.messageNotices.push(t)},addWeather:function(e,t){e.weather=t},changeNotificationCenterVisible:function(e,t){e.notificationCenterVisible=t},closeFrame:function(e,t){e.frames.find(function(i,n){return i.id===t.id&&(e.frames.splice(n,1),!0)}),e.minDocks.find(function(i,n){return i.id===t.id&&(e.minDocks.splice(n,1),!0)}),e.docks.find(function(e){return e.id===t.id&&(e.isOpen=!1,!0)}),"safari"===t.id&&(e.safari.active=!1)},openSafari:function(e){e.safari.active=!0,e.safari.isShow=!0},refreshFrame:function(e,t){e.frames.forEach(function(e){e.id===t.id?e.order=1:e.order=0}),"safari"===t.id?e.safari.order=1:e.safari.order=0},refreshTime:function(e){e.currentDate=new Date},resetMinFrame:function(e,t){e.frames.find(function(e){return e.id===t&&(e.isShow=!0,!0)}),e.minDocks.find(function(i,n){return i.id===t&&(e.minDocks.splice(n,1),!0)}),"safari"===t&&(e.safari.isShow=!0)},removeMessageById:function(e,t){e.messageNotices.find(function(i,n){return i.id===t&&(e.messageNotices.splice(n,1),!0)})},removeMessageByDate:function(e,t){var i=[];e.messageNotices.forEach(function(e){z.dateOfYear(new Date(e.time))!==t&&i.push(e)}),e.messageNotices=i},sortMessageNotice:function(e){e.messageNotices.sort(function(e,t){return new Date(t.time).getTime()-new Date(e.time).getTime()});var t={};e.messageNotices.forEach(function(e){var i=z.dateOfYear(new Date(e.time));t[i]?e.showHeader=!1:(t[i]=1,e.showHeader=!0)})},togglePreference:function(e){e.preferenceVisiable=!e.preferenceVisiable}},Xe={namespaced:!0,state:Ve,getters:We,actions:Le,mutations:ze},qe=new Vuex.Store({modules:{desktop:Xe},strict:!1});new Vue({el:"#app",store:qe,render:function(e){return e(He)}}).$mount("#app")},"58d1":function(e,t,i){"use strict";var n=i("24e4"),a=i.n(n);a.a},"58dd":function(e,t,i){"use strict";var n=i("3dcb"),a=i.n(n);a.a},"635c":function(e,t,i){},"64a9":function(e,t,i){},"6a52":function(e,t,i){},"6a6f":function(e,t,i){"use strict";var n=i("635c"),a=i.n(n);a.a},"72ce":function(e,t,i){},"76e0":function(e,t,i){"use strict";var n=i("b2f5"),a=i.n(n);a.a},"82f4":function(e,t,i){},"8ca7":function(e,t,i){"use strict";var n=i("6a52"),a=i.n(n);a.a},b2f5:function(e,t,i){},bc79:function(e,t,i){},ca76:function(e,t,i){"use strict";var n=i("82f4"),a=i.n(n);a.a},e56e:function(e,t,i){"use strict";var n=i("2177"),a=i.n(n);a.a},ec0d:function(e,t,i){"use strict";var n=i("72ce"),a=i.n(n);a.a},f777:function(e,t,i){"use strict";var n=i("44bc"),a=i.n(n);a.a},fef0:function(e,t,i){}});
//# sourceMappingURL=app.13160f62.js.map